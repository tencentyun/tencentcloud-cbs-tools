
# 云硬盘使用常见问题整理

## 分区和文件系统问题

### 将MBR格式的硬盘分区表转为GPT格式

由于MBR格式的分区表最大只支持2T的硬盘空间，若想使用超过2T部分的磁盘空间，可以考虑将使用MBR分区表的磁盘转换为使用GPT分区表。

具体的操作请参考以下文档：（**修改前请务必对云盘制作快照备份**）

[Linux下数据无损动态修改MBR分区表格式为GPT](https://cloud.tencent.com/developer/article/1175328)

## 性能类问题

## 挂载类问题

### 使用快照创建的云盘无法在源盘所在的云主机上执行mount操作

* 在子机内执行mount操作的时候，默认会校验文件系统的uuid。通过快照创建云盘，用户会得到一个与源盘完全相同的文件系统，uuid自然也是一样的，所以在源盘所在的云主机上就会挂载失败。解决方法是通过tune2fs修改第二个文件系统的uuid或者mount是指定nouuid
 
## 解挂类问题
 
### 云主机无法解挂云盘，操作日志提示“请先在云主机内部停止对云硬盘的访问”

* 这种情况是因为云主机内部仍然存在对云硬盘的io访问，对于windows云主机，可**尝试在磁盘管理器中将磁盘设为脱机状态**，对于linux子机可以先umount云硬盘
* **如果windows云主机内执行了脱机操作依旧无法解挂磁盘，则可以查看下系统日志，确定是否用进程干预了磁盘的解挂操作。**。
